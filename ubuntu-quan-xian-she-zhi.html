<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Ubuntu 权限设置 - 技术分享</title><meta name="description" content="好的，以下是一份详细的 Ubuntu 24 权限设置指南，涵盖了文件和目录权限、用户和组管理、特殊权限、ACL、默认权限以及一些最佳实践。 理解 Linux 权限 在 Linux 系统中，权限控制着用户和进程对文件和目录的访问能力。每个文件和目录都关联着以下信息： 对于每个类别（所有者、所属组、其他用户），可以设置以下三种基本权限： 1. 查看文件和目录权限 可以使用 ls -l 命令查看文件和目录的详细信息，其中包括权限信息。输出的第二列就是权限字符串，例如： -rw-r--r-- 1 user group 1024 Mar&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://wuyou0789.github.io/blog/ubuntu-quan-xian-she-zhi.html"><link rel="alternate" type="application/atom+xml" href="https://wuyou0789.github.io/blog/feed.xml"><link rel="alternate" type="application/json" href="https://wuyou0789.github.io/blog/feed.json"><meta property="og:title" content="Ubuntu 权限设置"><meta property="og:site_name" content="技术分享"><meta property="og:description" content="好的，以下是一份详细的 Ubuntu 24 权限设置指南，涵盖了文件和目录权限、用户和组管理、特殊权限、ACL、默认权限以及一些最佳实践。 理解 Linux 权限 在 Linux 系统中，权限控制着用户和进程对文件和目录的访问能力。每个文件和目录都关联着以下信息： 对于每个类别（所有者、所属组、其他用户），可以设置以下三种基本权限： 1. 查看文件和目录权限 可以使用 ls -l 命令查看文件和目录的详细信息，其中包括权限信息。输出的第二列就是权限字符串，例如： -rw-r--r-- 1 user group 1024 Mar&hellip;"><meta property="og:url" content="https://wuyou0789.github.io/blog/ubuntu-quan-xian-she-zhi.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://wuyou0789.github.io/blog/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://wuyou0789.github.io/blog/assets/css/style.css?v=a43d11e6c8e1828dd0b983b73b3cdb13"><noscript><link rel="stylesheet" href="https://wuyou0789.github.io/blog/assets/css/noscript.css?v=efa867a99f5064d6729e4dc2008ad50b"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://wuyou0789.github.io/blog/ubuntu-quan-xian-she-zhi.html"},"headline":"Ubuntu 权限设置","datePublished":"2025-03-29T00:17+08:00","dateModified":"2025-03-29T00:17+08:00","description":"好的，以下是一份详细的 Ubuntu 24 权限设置指南，涵盖了文件和目录权限、用户和组管理、特殊权限、ACL、默认权限以及一些最佳实践。 理解 Linux 权限 在 Linux 系统中，权限控制着用户和进程对文件和目录的访问能力。每个文件和目录都关联着以下信息： 对于每个类别（所有者、所属组、其他用户），可以设置以下三种基本权限： 1. 查看文件和目录权限 可以使用 ls -l 命令查看文件和目录的详细信息，其中包括权限信息。输出的第二列就是权限字符串，例如： -rw-r--r-- 1 user group 1024 Mar&hellip;","author":{"@type":"Person","name":"HeYuan","url":"https://wuyou0789.github.io/blog/authors/heyuan/"},"publisher":{"@type":"Organization","name":"HeYuan"}}</script><style>#wrapper > .bg {
               background-image: url(https://wuyou0789.github.io/blog/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url();
           }</style><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="is-preload post-template"><div id="wrapper"><header id="header"><a class="logo" href="https://wuyou0789.github.io/blog/">技术分享</a></header><main id="main"><article class="post"><header class="major"><time datetime="2025-03-29T00:17" class="date">三月 29, 2025</time><h1>Ubuntu 权限设置</h1><p class="post__inner"></p></header><div class="post__inner post__entry"><p data-sourcepos="1:1-1:69">好的，以下是一份详细的 Ubuntu 24 权限设置指南，涵盖了文件和目录权限、用户和组管理、特殊权限、ACL、默认权限以及一些最佳实践。</p><p data-sourcepos="3:1-3:15"><strong>理解 Linux 权限</strong></p><p data-sourcepos="5:1-5:50">在 Linux 系统中，权限控制着用户和进程对文件和目录的访问能力。每个文件和目录都关联着以下信息：</p><ul data-sourcepos="7:1-10:0"><li data-sourcepos="7:1-7:31"><strong>所有者 (Owner):</strong> 创建该文件或目录的用户。</li><li data-sourcepos="8:1-8:31"><strong>所属组 (Group):</strong> 与该文件或目录关联的组。</li><li data-sourcepos="9:1-10:0"><strong>其他用户 (Others):</strong> 系统中既不是所有者也不是所属组成员的其他用户。</li></ul><p data-sourcepos="11:1-11:34">对于每个类别（所有者、所属组、其他用户），可以设置以下三种基本权限：</p><ul data-sourcepos="13:1-16:0"><li data-sourcepos="13:1-13:43"><strong>读取 (Read, r):</strong> 允许查看文件的内容或列出目录中的文件和子目录。</li><li data-sourcepos="14:1-14:47"><strong>写入 (Write, w):</strong> 允许修改文件的内容、在目录中创建或删除文件和子目录。</li><li data-sourcepos="15:1-16:0"><strong>执行 (Execute, x):</strong> 允许运行文件（如果是可执行程序或脚本）或进入目录（使其成为当前工作目录）。</li></ul><p data-sourcepos="17:1-17:16"><strong>1. 查看文件和目录权限</strong></p><p data-sourcepos="19:1-19:54">可以使用 <code>ls -l</code> 命令查看文件和目录的详细信息，其中包括权限信息。输出的第二列就是权限字符串，例如：</p><div class="code-block ng-tns-c3778368744-1312 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="formatted-code-block-internal-container ng-tns-c3778368744-1312"><div class="animated-opacity ng-tns-c3778368744-1312"><pre class="ng-tns-c3778368744-1312"><code class="code-container formatted ng-tns-c3778368744-1312 no-decoration-radius" role="text" data-test-id="code-content" data-sourcepos="21:1-24:51">-rw-r--r-- 1 user group 1024 Mar 27 10:00 file.txt
drwxr-xr-x 2 user group 4096 Mar 27 10:05 directory
</code></pre></div></div></div><p data-sourcepos="26:1-26:103">权限字符串的第一个字符表示文件类型（<code>-</code> 表示普通文件，<code>d</code> 表示目录，<code>l</code> 表示符号链接等）。接下来的九个字符分为三组，分别对应所有者、所属组和其他用户的权限。每组三个字符的顺序是：<strong>rwx</strong>。</p><ul data-sourcepos="28:1-36:0"><li data-sourcepos="28:1-31:36"><code>-rw-r--r--</code>:<ul data-sourcepos="29:5-31:36"><li data-sourcepos="29:5-29:33">所有者 (<code>u</code>ser): <code>rw-</code> (读和写权限)</li><li data-sourcepos="30:5-30:34">所属组 (<code>g</code>roup): <code>r--</code> (只有读权限)</li><li data-sourcepos="31:5-31:36">其他用户 (<code>o</code>thers): <code>r--</code> (只有读权限)</li></ul></li><li data-sourcepos="32:1-36:0"><code>drwxr-xr-x</code>:<ul data-sourcepos="33:5-36:0"><li data-sourcepos="33:5-33:36">所有者 (<code>u</code>ser): <code>rwx</code> (读、写和执行权限)</li><li data-sourcepos="34:5-34:35">所属组 (<code>g</code>roup): <code>r-x</code> (读和执行权限)</li><li data-sourcepos="35:5-36:0">其他用户 (<code>o</code>thers): <code>r-x</code> (读和执行权限)</li></ul></li></ul><p data-sourcepos="37:1-37:24"><strong>2. 修改文件和目录权限 (chmod)</strong></p><p data-sourcepos="39:1-39:53">可以使用 <code>chmod</code> 命令修改文件和目录的权限。<code>chmod</code> 有两种常用的模式：符号模式和数字模式。</p><p data-sourcepos="41:1-41:12"><strong>2.1 符号模式</strong></p><p data-sourcepos="43:1-43:126">使用符号 <code>u</code> (所有者), <code>g</code> (所属组), <code>o</code> (其他用户), <code>a</code> (所有用户) 来指定要修改的权限类别，使用 <code>+</code> 添加权限，使用 <code>-</code> 移除权限，使用 <code>=</code> 设置确切的权限。使用 <code>r</code>, <code>w</code>, <code>x</code> 来指定权限类型。</p><ul data-sourcepos="45:1-61:0"><li data-sourcepos="45:1-48:7"><strong>给文件所有者添加执行权限:</strong><div class="code-block ng-tns-c3778368744-1313 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1313 ng-star-inserted"><span class="ng-tns-c3778368744-1313">Bash</span><div class="buttons ng-tns-c3778368744-1313 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1313"><div class="animated-opacity ng-tns-c3778368744-1313"><pre class="ng-tns-c3778368744-1313"><code class="code-container formatted ng-tns-c3778368744-1313" role="text" data-test-id="code-content" data-sourcepos="46:5-48:21">chmod u+x file.sh
</code></pre></div></div></div></li><li data-sourcepos="49:1-52:7"><strong>移除目录所属组的写入权限:</strong><div class="code-block ng-tns-c3778368744-1314 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1314 ng-star-inserted"><span class="ng-tns-c3778368744-1314">Bash</span><div class="buttons ng-tns-c3778368744-1314 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1314"><div class="animated-opacity ng-tns-c3778368744-1314"><pre class="ng-tns-c3778368744-1314"><code class="code-container formatted ng-tns-c3778368744-1314" role="text" data-test-id="code-content" data-sourcepos="50:5-52:23">chmod g-w directory
</code></pre></div></div></div></li><li data-sourcepos="53:1-56:7"><strong>设置文件所有者读写权限，所属组只读权限，其他用户没有任何权限:</strong><div class="code-block ng-tns-c3778368744-1315 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1315 ng-star-inserted"><span class="ng-tns-c3778368744-1315">Bash</span><div class="buttons ng-tns-c3778368744-1315 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1315"><div class="animated-opacity ng-tns-c3778368744-1315"><pre class="ng-tns-c3778368744-1315"><code class="code-container formatted ng-tns-c3778368744-1315" role="text" data-test-id="code-content" data-sourcepos="54:5-56:30">chmod u=rw,g=r,o= file.txt
</code></pre></div></div></div></li><li data-sourcepos="57:1-61:0"><strong>给所有用户添加读权限:</strong><div class="code-block ng-tns-c3778368744-1316 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1316 ng-star-inserted"><span class="ng-tns-c3778368744-1316">Bash</span><div class="buttons ng-tns-c3778368744-1316 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1316"><div class="animated-opacity ng-tns-c3778368744-1316"><pre class="ng-tns-c3778368744-1316"><code class="code-container formatted ng-tns-c3778368744-1316" role="text" data-test-id="code-content" data-sourcepos="58:5-60:22">chmod a+r file.txt
</code></pre></div></div></div></li></ul><p data-sourcepos="62:1-62:12"><strong>2.2 数字模式</strong></p><p data-sourcepos="64:1-64:43">使用三位八进制数字来表示所有者、所属组和其他用户的权限。每个数字的每一位对应一个权限：</p><ul data-sourcepos="66:1-70:0"><li data-sourcepos="66:1-66:15"><strong>4:</strong> 读取 (r)</li><li data-sourcepos="67:1-67:15"><strong>2:</strong> 写入 (w)</li><li data-sourcepos="68:1-68:15"><strong>1:</strong> 执行 (x)</li><li data-sourcepos="69:1-70:0"><strong>0:</strong> 没有权限 (-)</li></ul><p data-sourcepos="71:1-71:22">将需要的权限值相加得到每个类别的数字。例如：</p><ul data-sourcepos="73:1-78:0"><li data-sourcepos="73:1-73:22"><code>rw-</code>: 4 + 2 + 0 = 6</li><li data-sourcepos="74:1-74:22"><code>r--</code>: 4 + 0 + 0 = 4</li><li data-sourcepos="75:1-75:22"><code>r-x</code>: 4 + 0 + 1 = 5</li><li data-sourcepos="76:1-76:22"><code>rwx</code>: 4 + 2 + 1 = 7</li><li data-sourcepos="77:1-78:0"><code>--x</code>: 0 + 0 + 1 = 1</li></ul><p data-sourcepos="79:1-79:28">使用这三个数字按顺序表示所有者、所属组和其他用户的权限。</p><ul data-sourcepos="81:1-89:0"><li data-sourcepos="81:1-84:7"><strong>设置文件权限为所有者读写执行 (7)，所属组只读 (4)，其他用户只读 (4):</strong><div class="code-block ng-tns-c3778368744-1317 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1317 ng-star-inserted"><span class="ng-tns-c3778368744-1317">Bash</span><div class="buttons ng-tns-c3778368744-1317 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1317"><div class="animated-opacity ng-tns-c3778368744-1317"><pre class="ng-tns-c3778368744-1317"><code class="code-container formatted ng-tns-c3778368744-1317" role="text" data-test-id="code-content" data-sourcepos="82:5-84:21">chmod 744 file.sh
</code></pre></div></div></div></li><li data-sourcepos="85:1-89:0"><strong>设置目录权限为所有者读写执行 (7)، 所属组读和执行 (5)، 其他用户读和执行 (5):</strong><div class="code-block ng-tns-c3778368744-1318 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1318 ng-star-inserted"><span class="ng-tns-c3778368744-1318">Bash</span><div class="buttons ng-tns-c3778368744-1318 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1318"><div class="animated-opacity ng-tns-c3778368744-1318"><pre class="ng-tns-c3778368744-1318"><code class="code-container formatted ng-tns-c3778368744-1318" role="text" data-test-id="code-content" data-sourcepos="86:5-88:23">chmod 755 directory
</code></pre></div></div></div></li></ul><p data-sourcepos="90:1-90:43"><strong>注意:</strong> 使用 <code>chmod -R</code> 可以递归地修改目录及其子目录和文件的权限。</p><p data-sourcepos="92:1-92:13"><strong>3. 用户和组管理</strong></p><ul data-sourcepos="94:1-121:0"><li data-sourcepos="94:1-98:7"><strong>创建用户:</strong><div class="code-block ng-tns-c3778368744-1319 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1319 ng-star-inserted"><span class="ng-tns-c3778368744-1319">Bash</span><div class="buttons ng-tns-c3778368744-1319 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1319"><div class="animated-opacity ng-tns-c3778368744-1319"><pre class="ng-tns-c3778368744-1319"><code class="code-container formatted ng-tns-c3778368744-1319" role="text" data-test-id="code-content" data-sourcepos="95:5-98:34">sudo useradd -m -s /bin/bash &lt;用户名&gt;
sudo passwd &lt;用户名&gt;  <span class="hljs-comment"># 设置用户密码</span>
</code></pre></div></div></div></li><li data-sourcepos="99:1-103:7"><strong>删除用户:</strong><div class="code-block ng-tns-c3778368744-1320 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1320 ng-star-inserted"><span class="ng-tns-c3778368744-1320">Bash</span><div class="buttons ng-tns-c3778368744-1320 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1320"><div class="animated-opacity ng-tns-c3778368744-1320"><pre class="ng-tns-c3778368744-1320"><code class="code-container formatted ng-tns-c3778368744-1320" role="text" data-test-id="code-content" data-sourcepos="100:5-103:41">sudo userdel &lt;用户名&gt;  <span class="hljs-comment"># 不删除用户主目录</span>
sudo userdel -r &lt;用户名&gt; <span class="hljs-comment"># 删除用户主目录和邮件</span>
</code></pre></div></div></div></li><li data-sourcepos="104:1-108:7"><strong>修改用户信息:</strong><div class="code-block ng-tns-c3778368744-1321 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1321 ng-star-inserted"><span class="ng-tns-c3778368744-1321">Bash</span><div class="buttons ng-tns-c3778368744-1321 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1321"><div class="animated-opacity ng-tns-c3778368744-1321"><pre class="ng-tns-c3778368744-1321"><code class="code-container formatted ng-tns-c3778368744-1321" role="text" data-test-id="code-content" data-sourcepos="105:5-108:48">sudo usermod -aG &lt;组名&gt; &lt;用户名&gt;  <span class="hljs-comment"># 将用户添加到组 (使用 -aG 保留现有组成员)</span>
sudo usermod -g &lt;新主组名&gt; &lt;用户名&gt; <span class="hljs-comment"># 更改用户的主组</span>
</code></pre></div></div></div></li><li data-sourcepos="109:1-112:7"><strong>创建组:</strong><div class="code-block ng-tns-c3778368744-1322 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1322 ng-star-inserted"><span class="ng-tns-c3778368744-1322">Bash</span><div class="buttons ng-tns-c3778368744-1322 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1322"><div class="animated-opacity ng-tns-c3778368744-1322"><pre class="ng-tns-c3778368744-1322"><code class="code-container formatted ng-tns-c3778368744-1322" role="text" data-test-id="code-content" data-sourcepos="110:5-112:25">sudo groupadd &lt;组名&gt;
</code></pre></div></div></div></li><li data-sourcepos="113:1-116:7"><strong>删除组:</strong><div class="code-block ng-tns-c3778368744-1323 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1323 ng-star-inserted"><span class="ng-tns-c3778368744-1323">Bash</span><div class="buttons ng-tns-c3778368744-1323 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1323"><div class="animated-opacity ng-tns-c3778368744-1323"><pre class="ng-tns-c3778368744-1323"><code class="code-container formatted ng-tns-c3778368744-1323" role="text" data-test-id="code-content" data-sourcepos="114:5-116:25">sudo groupdel &lt;组名&gt;
</code></pre></div></div></div></li><li data-sourcepos="117:1-121:0"><strong>修改组信息:</strong><div class="code-block ng-tns-c3778368744-1324 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1324 ng-star-inserted"><span class="ng-tns-c3778368744-1324">Bash</span><div class="buttons ng-tns-c3778368744-1324 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1324"><div class="animated-opacity ng-tns-c3778368744-1324"><pre class="ng-tns-c3778368744-1324"><code class="code-container formatted ng-tns-c3778368744-1324" role="text" data-test-id="code-content" data-sourcepos="118:5-120:45">sudo groupmod -n &lt;新组名&gt; &lt;旧组名&gt; <span class="hljs-comment"># 更改组名</span>
</code></pre></div></div></div></li></ul><p data-sourcepos="122:1-122:11"><strong>4. 特殊权限</strong></p><ul data-sourcepos="124:1-142:0"><li data-sourcepos="124:1-128:44"><strong>SUID (Set User ID):</strong> 当一个设置了 SUID 位的可执行文件被执行时，它会以文件所有者的权限运行，而不是执行用户的权限。用数字模式表示时，在权限前加 <code>4</code>。<div class="code-block ng-tns-c3778368744-1325 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1325 ng-star-inserted"><span class="ng-tns-c3778368744-1325">Bash</span><div class="buttons ng-tns-c3778368744-1325 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1325"><div class="animated-opacity ng-tns-c3778368744-1325"><pre class="ng-tns-c3778368744-1325"><code class="code-container formatted ng-tns-c3778368744-1325" role="text" data-test-id="code-content" data-sourcepos="125:5-127:25">chmod 4755 &lt;可执行文件&gt;
</code></pre></div></div></div>在 <code>ls -l</code> 输出中，所有者的执行权限位会显示为 <code>s</code> 而不是 <code>x</code>。</li><li data-sourcepos="129:1-136:44"><strong>SGID (Set Group ID):</strong><ul data-sourcepos="130:5-132:23"><li data-sourcepos="130:5-130:54"><strong>对于文件:</strong> 当一个设置了 SGID 位的可执行文件被执行时，它会以文件所属组的权限运行。</li><li data-sourcepos="131:5-132:23"><strong>对于目录:</strong> 在设置了 SGID 位的目录中创建的新文件和子目录将自动继承该目录的组所有权。 用数字模式表示时，在权限前加 <code>2</code>。</li></ul><div class="code-block ng-tns-c3778368744-1326 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1326 ng-star-inserted"><span class="ng-tns-c3778368744-1326">Bash</span><div class="buttons ng-tns-c3778368744-1326 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1326"><div class="animated-opacity ng-tns-c3778368744-1326"><pre class="ng-tns-c3778368744-1326"><code class="code-container formatted ng-tns-c3778368744-1326" role="text" data-test-id="code-content" data-sourcepos="133:5-135:28">chmod 2755 &lt;可执行文件或目录&gt;
</code></pre></div></div></div>在 <code>ls -l</code> 输出中，所属组的执行权限位会显示为 <code>s</code> 而不是 <code>x</code>。</li><li data-sourcepos="137:1-142:0"><strong>Sticky Bit:</strong> 通常设置在共享目录（例如 <code>/tmp</code>）。当一个目录设置了 Sticky Bit 后，只有文件所有者、目录所有者或 root 用户才能删除该目录中的文件，即使其他用户对该目录有写入权限。用数字模式表示时，在权限前加 <code>1</code>。<div class="code-block ng-tns-c3778368744-1327 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1327 ng-star-inserted"><span class="ng-tns-c3778368744-1327">Bash</span><div class="buttons ng-tns-c3778368744-1327 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1327"><div class="animated-opacity ng-tns-c3778368744-1327"><pre class="ng-tns-c3778368744-1327"><code class="code-container formatted ng-tns-c3778368744-1327" role="text" data-test-id="code-content" data-sourcepos="138:5-140:22">chmod 1777 &lt;目录&gt;
</code></pre></div></div></div>在 <code>ls -l</code> 输出中，其他用户的执行权限位会显示为 <code>t</code> 而不是 <code>x</code>。</li></ul><p data-sourcepos="143:1-143:19"><strong>5. 访问控制列表 (ACL)</strong></p><p data-sourcepos="145:1-145:64">ACL 提供了比标准 Linux 权限更细粒度的控制。可以使用 <code>setfacl</code> 和 <code>getfacl</code> 命令来管理 ACL。</p><ul data-sourcepos="147:1-171:0"><li data-sourcepos="147:1-150:7"><strong>查看文件的 ACL:</strong><div class="code-block ng-tns-c3778368744-1328 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1328 ng-star-inserted"><span class="ng-tns-c3778368744-1328">Bash</span><div class="buttons ng-tns-c3778368744-1328 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1328"><div class="animated-opacity ng-tns-c3778368744-1328"><pre class="ng-tns-c3778368744-1328"><code class="code-container formatted ng-tns-c3778368744-1328" role="text" data-test-id="code-content" data-sourcepos="148:5-150:24">getfacl &lt;文件名或目录名&gt;
</code></pre></div></div></div></li><li data-sourcepos="151:1-154:7"><strong>给特定用户添加读写权限:</strong><div class="code-block ng-tns-c3778368744-1329 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1329 ng-star-inserted"><span class="ng-tns-c3778368744-1329">Bash</span><div class="buttons ng-tns-c3778368744-1329 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1329"><div class="animated-opacity ng-tns-c3778368744-1329"><pre class="ng-tns-c3778368744-1329"><code class="code-container formatted ng-tns-c3778368744-1329" role="text" data-test-id="code-content" data-sourcepos="152:5-154:46">sudo setfacl -m u:&lt;用户名&gt;:rw &lt;文件名或目录名&gt;
</code></pre></div></div></div></li><li data-sourcepos="155:1-158:7"><strong>给特定组添加只读权限:</strong><div class="code-block ng-tns-c3778368744-1330 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1330 ng-star-inserted"><span class="ng-tns-c3778368744-1330">Bash</span><div class="buttons ng-tns-c3778368744-1330 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1330"><div class="animated-opacity ng-tns-c3778368744-1330"><pre class="ng-tns-c3778368744-1330"><code class="code-container formatted ng-tns-c3778368744-1330" role="text" data-test-id="code-content" data-sourcepos="156:5-158:44">sudo setfacl -m g:&lt;组名&gt;:r &lt;文件名或目录名&gt;
</code></pre></div></div></div></li><li data-sourcepos="159:1-162:7"><strong>移除特定用户的 ACL 条目:</strong><div class="code-block ng-tns-c3778368744-1331 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1331 ng-star-inserted"><span class="ng-tns-c3778368744-1331">Bash</span><div class="buttons ng-tns-c3778368744-1331 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1331"><div class="animated-opacity ng-tns-c3778368744-1331"><pre class="ng-tns-c3778368744-1331"><code class="code-container formatted ng-tns-c3778368744-1331" role="text" data-test-id="code-content" data-sourcepos="160:5-162:43">sudo setfacl -x u:&lt;用户名&gt; &lt;文件名或目录名&gt;
</code></pre></div></div></div></li><li data-sourcepos="163:1-166:7"><strong>移除特定组的 ACL 条目:</strong><div class="code-block ng-tns-c3778368744-1332 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1332 ng-star-inserted"><span class="ng-tns-c3778368744-1332">Bash</span><div class="buttons ng-tns-c3778368744-1332 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1332"><div class="animated-opacity ng-tns-c3778368744-1332"><pre class="ng-tns-c3778368744-1332"><code class="code-container formatted ng-tns-c3778368744-1332" role="text" data-test-id="code-content" data-sourcepos="164:5-166:42">sudo setfacl -x g:&lt;组名&gt; &lt;文件名或目录名&gt;
</code></pre></div></div></div></li><li data-sourcepos="167:1-171:0"><strong>移除所有 ACL 条目:</strong><div class="code-block ng-tns-c3778368744-1333 ng-trigger ng-trigger-codeBlockRevealAnimation"><div class="code-block-decoration header-formatted gds-title-s ng-tns-c3778368744-1333 ng-star-inserted"><span class="ng-tns-c3778368744-1333">Bash</span><div class="buttons ng-tns-c3778368744-1333 ng-star-inserted"> </div></div><div class="formatted-code-block-internal-container ng-tns-c3778368744-1333"><div class="animated-opacity ng-tns-c3778368744-1333"><pre class="ng-tns-c3778368744-1333"><code class="code-container formatted ng-tns-c3778368744-1333" role="text" data-test-id="code-content" data-sourcepos="168:5-170:32">sudo setfacl -b &lt;文件名或目录名&gt;
</code></pre></div></div></div></li></ul><p data-sourcepos="172:1-172:19"><strong>6. 默认权限 (umask)</strong></p><p data-sourcepos="174:1-174:84"><code>umask</code> (user file-creation mode mask) 定义了创建新文件和目录时默认会<strong>移除</strong>哪些权限。<code>umask</code> 是一个三位八进制数字。</p><ul data-sourcepos="176:1-178:0"><li data-sourcepos="176:1-176:33">可以使用 <code>umask</code> 命令查看当前的 <code>umask</code> 值。</li><li data-sourcepos="177:1-178:0">可以使用 <code>umask &lt;值&gt;</code> 命令临时设置 <code>umask</code>。要永久更改用户的 <code>umask</code>，通常需要在用户的 shell 配置文件（例如 <code>~/.bashrc</code> 或 <code>~/.zshrc</code>) 中设置。</li></ul><p data-sourcepos="179:1-179:18">常见的 <code>umask</code> 值及其含义：</p><ul data-sourcepos="181:1-184:0"><li data-sourcepos="181:1-181:65"><code>022</code>: 新创建的文件权限为 <code>rw-r--r--</code> (644)，新创建的目录权限为 <code>rwxr-xr-x</code> (755)。</li><li data-sourcepos="182:1-182:65"><code>077</code>: 新创建的文件权限为 <code>rw-------</code> (600)，新创建的目录权限为 <code>rwx------</code> (700)。</li><li data-sourcepos="183:1-184:0"><code>002</code>: 新创建的文件权限为 <code>rw-rw-r--</code> (664)，新创建的目录权限为 <code>rwxrwxr-x</code> (775)。</li></ul><p data-sourcepos="185:1-185:15"><strong>7. 权限设置最佳实践</strong></p><ul data-sourcepos="187:1-193:0"><li data-sourcepos="187:1-187:34"><strong>遵循最小权限原则:</strong> 只授予用户完成其任务所需的最低权限。</li><li data-sourcepos="188:1-188:41"><strong>合理使用组:</strong> 将具有相似权限需求的用户添加到同一个组，并管理组的权限。</li><li data-sourcepos="189:1-189:49"><strong>定期审查权限:</strong> 特别是在添加或删除用户、更改系统配置后，审查关键文件和目录的权限设置。</li><li data-sourcepos="190:1-190:76"><strong>避免使用 <code>chmod 777</code>:</strong> 除非绝对必要，否则不要将权限设置为 <code>777</code> (所有用户都具有读写执行权限)，这会带来严重的安全风险。</li><li data-sourcepos="191:1-191:56"><strong>谨慎使用 SUID 和 SGID:</strong> 了解 SUID 和 SGID 的含义和潜在风险，只在必要时使用。</li><li data-sourcepos="192:1-193:0"><strong>理解不同权限对文件和目录的意义:</strong> 确保你理解读、写和执行权限对于文件和目录的不同含义。</li></ul><p data-sourcepos="194:1-194:61">希望这份详细的 Ubuntu 24 权限设置指南能够帮助你更好地管理你的系统。记住，正确的权限设置对于系统的安全至关重要。</p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on 三月 29, 2025</p><div class="post__share-tag-container"><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><div><h3><a href="https://wuyou0789.github.io/blog/authors/heyuan/" class="invert" rel="author">HeYuan</a></h3></div></div></footer></article></main><footer id="copyright"><ul><li>&copy; Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by Publii</li></ul></footer></div><script src="https://wuyou0789.github.io/blog/assets/js/jquery.min.js?v=c9771cc3e90e18f5336eedbd0fffb2cf"></script><script src="https://wuyou0789.github.io/blog/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://wuyou0789.github.io/blog/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://wuyou0789.github.io/blog/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://wuyou0789.github.io/blog/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://wuyou0789.github.io/blog/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://wuyou0789.github.io/blog/assets/js/main.min.js?v=56233c354bd814758be8bff42f7e13a5"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>